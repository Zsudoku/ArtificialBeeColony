#include <iostream>
#include <fstream>
#include <windows.h>
#include "headers/jsonout.h"
#include "headers/planjson.h"
#include "headers/Constants.h"
#include "classes/Food.h"
//#include "headers/head.h"
#include "headers/initout.h"
#include "headers/abc.h"
#include <vector>
#include <string.h>
using namespace std;
int main(){
    ofstream fcout;
	fcout.open("output/json.json");
    fcout<<"["<<endl;
	fcout.close();
    Food f;
    int best[GoodsNum] = {
        1,2,4,5,11,13,14,21,22,33,34,40,42,43,46,52,53,56,61,65,67,69,70,71,72,76,85,86,93,94,96,99,101,113,114,124,136,139,142,145,146,150,156,158,161,162,163,164,170,172,173,175,180,181,187,190,199,204,206,207,208,211,213,221,226,229,230,236,240,244,249,255,256,257,258,260,266,267,270,273,277,278,279,282,284,285,288,291,293,294,298,305,308,321,322,325,326,327,328,330,344,348,349,350,359,360,365,373,374,375,380,381,382,384,388,390,392,396,403,405,407,411,413,415,426,427,429,430,431,432,433,435,436,440,441,442,443,444,449,450,451,452,453,455,456,458,459,460,462,463,464,465,466,469,470,471,472,475,476,479,480,481,485,486,488,489,490,491,495,496,497,498,499,500,502,506,507,508,509,513,515,516,518,519,521,522,523,524,525,526,527,529,533,534,535,536,539,540,543,544,3,6,7,10,12,15,16,17,18,20,23,24,25,26,27,28,30,31,32,35,36,37,38,41,44,45,47,50,51,54,55,58,59,60,63,64,66,75,77,78,79,81,83,89,90,91,92,100,102,103,104,105,106,107,108,112,117,118,119,120,121,123,125,126,127,128,129,130,131,134,137,140,144,147,148,149,151,152,154,155,157,159,160,165,166,168,169,171,174,177,178,183,184,185,186,188,189,191,192,194,196,197,200,201,203,205,209,210,214,217,218,219,222,223,225,227,228,231,232,234,235,237,238,239,241,242,245,246,248,250,251,253,259,262,263,264,265,268,269,274,280,281,283,287,289,290,296,297,300,301,304,306,309,310,311,315,317,318,320,323,324,329,331,332,333,335,337,339,341,343,345,346,347,351,352,356,362,363,369,370,372,376,378,386,389,391,393,394,395,398,401,402,406,408,409,410,412,416,417,418,8,9,19,29,39,48,49,57,62,68,73,74,80,82,84,87,88,95,97,98,109,110,111,115,116,122,132,133,135,138,141,143,153,167,176,179,182,193,195,198,202,212,215,216,220,224,233,243,247,252,254,261,271,272,275,276,286,292,295,299,302,303,307,312,313,314,316,319,334,336,338,340,342,353,354,355,357,358,361,364,366,367,368,371,377,379,383,385,387,397,399,400,404,414,419,420,421,422,423,424,425,428,434,437,438,439,445,446,447,448,454,457,461,467,468,473,474,477,478,482,483,484,487,492,493,494,501,503,504,505,510,511,512,514,517,520,528,530,531,532,537,538,541,542,545,546,547,549,550,554,557,558,561,565,567,569,570,573,584,586,588,593,605,611,614,618,619,624,635,636,639,641,644,645,647,652,656,657,658,659,664,666,668,670,671,674,678,682,683,685,687,688,692,694,696,697,703,706,711,721,548,551,552,553,555,556,559,560,562,563,564,566,568,571,572,574,575,576,577,578,579,580,581,582,583,585,587,589,590,591,592,594,595,596,597,598,599,600,601,602,603,604,606,607,608,609,610,612,613,615,616,617,620,621,622,623,625,626,627,628,629,630,631,632,633,634,637,638,640,642,643,646,648,649,650,651,653,654,655,660,661,662,663,665,667,669,672,673,675,676,677,679,680,681,684,686,689,690,691,693,695,698,699,700,701,702,704,705,707,708,709,710,712,713,714,715,716,717,718,719,720,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800
    };
    for(int i=0;i<GoodsNum;i++){
        f.setSequence(i,best[i]);
    }
    enSimpleCode(f);
    // vector<string> tmp_files;
	
	// ifstream winfile("output/json.json");
	// if ( ! winfile )
	// {
	// 	cout << "fail" << endl;
	// 	return 0;
	// }

	// string lineContent;
	// while ( getline( winfile, lineContent, '\n' ) )
	// {
	// 	tmp_files.push_back( lineContent + "\r\n" );
	// }

	// winfile.close();

	// ofstream offile("output/json.json",ios::out );
	// vector<string>::iterator siter = tmp_files.begin();

	// copy( tmp_files.begin(), tmp_files.end()-1, ostream_iterator<string>(offile) );

	// cout << "ok!" << endl;

	//offile.close();
    // fcout.open("output/json.json",ios::app);
    // fcout<<"]"<<endl;
	// fcout.close();



    // int twices1 = 0;
    // int twices2 = 0;
    // lpt[1].taskNumber = 0;
    // lpt[0].taskNumber = 0;
    // creat_json_file();
    // // cout<<"start"<<endl;
    // int a;
    // cout<<"input something to start this program"<<endl;
    // cin>>a;

    // while(true){
        
    //     times = 1000;
    //     twices2 += times;
    //     twices1 += times;
    //     if(twices2 > 25000 ){
    //         cout<<"2 start"<<endl;
    //         lpt[1].taskNumber = 1;
    //         twices2 = 0;
    //         creat_json_file();
            
    //     }
    //     else if(twices1 > 10000){
    //         cout<<"1 start"<<endl;
    //         lpt[0].taskNumber = 1;
    //         twices1 = 0;
    //         creat_json_file();
            
    //     }
    //     else{
    //         cout<<" no start"<<endl;
    //         lpt[1].taskNumber = 0;
    //         lpt[0].taskNumber = 0;
    //         creat_json_file();
    //     }
    //     Sleep(500);
    //     //lpt[0].taskNumber = 0;
        

    // }
    // int i = 1;
    // int up1[2][500];
    // int up2[2][500];
    // while (i<501){
    //     int ii = i-1;
    //     up1[0][i] = ii * 20 + 17.5;
    //     up1[1][i] = up1[0][i] + 621.9;

    //     up2[0][i] = ii * 20 ;
    //     up2[1][i] = up2[0][i] + 68.23;

    //     i++;
    // }

    // ofstream fcout;
	// fcout.open("output/up.txt");
    // for(int i=0;i<500;i++){
    //     fcout<<up1[1][i]<<endl;
    //     fcout<<up2[1][i]<<endl;
    // }
	
	// fcout.close();
    // int count = 0;
    // for(int i=0;i<500;i++){
    //     for(int j=0;j<500;j++){
    //         if(abs(up1[1][i] - up2[1][j]) < 10){
    //             cout<<"error!,  "<<abs(up1[1][i] - up2[1][j]) <<"       "<<count <<endl;
    //             cout<<up1[1][i]<<"  "<<i<<endl;
    //             cout<<up2[1][j]<<"   "<<j<<endl;
    //             count++;
    //         }
    //     }
    // }
    // cout<<count<<endl;
    //creat_json_file();
    system("pause");
    return 0;
}
